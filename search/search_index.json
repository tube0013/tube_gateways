{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to the TubesZB Documentation","text":"<p>This site contains all the information and documentation for Tube's ZB hardware. Find the right guide to get your new device up and running with Home Assistant.</p> <p>You can purchase pre-assembled hardware from the official store:</p> <p>Shop at tubeszb.com</p>"},{"location":"#getting-started-guides","title":"Getting Started Guides","text":"<p>Click on the guide that matches your product to begin the setup process.</p> <ul> <li> <p>Zigbee Coordinators</p> <p>Step-by-step instructions for setting up your TubeZB Zigbee Coordinator with ZHA or Zigbee2MQTT.</p> <p> View Zigbee Guide</p> </li> <li> <p>Z-Wave PoE Kit</p> <p>How to set up your Z-Wave PoE kit using the Z-Wave JS UI addon in Home Assistant.</p> <p> View Z-Wave Guide</p> </li> <li> <p>Zigbee Routers</p> <p>How to pair your TubeZB Zigbee Router to extend the range of your network.</p> <p> View Router Guide</p> </li> <li> <p>Bluetooth Proxy</p> <p>Quickly set up and extend the Bluetooth coverage of your Home Assistant instance.</p> <p> View Bluetooth Proxy Guide</p> </li> <li> <p>Dual Radio Kit</p> <p>The Dual Radio Kit combines a Zigbee and a Z-Wave radio on a single device. You will need to set up both protocols.</p> <p>Important Note for Dual Radio Kits</p> <p>The Zigbee and Z-Wave radios share an IP address but use different ports. * Zigbee uses port <code>6638</code>. * Z-Wave uses port <code>6639</code>.</p> <p> View Zigbee Guide</p> <p> View Z-Wave Guide</p> </li> </ul>"},{"location":"getting-started/","title":"Getting Started","text":"<p>This guide will walk you through setting up your new TubeZB Coordinator.</p>"},{"location":"getting-started/#first-steps-physical-setup","title":"First Steps: Physical Setup","text":"<p>For Network (Ethernet) Coordinators:</p> <ol> <li>Connect the gateway to your local network using an ethernet cable.</li> <li>Power on the gateway using a 5v 1.5-2A power supply with a micro USB cable. The ethernet port's link lights will begin to blink as it connects to your network.</li> <li>Determine the device's IP address from your router's client list.</li> </ol> <p>Use a Static IP</p> <p>It is strongly advised to configure a static IP address or DHCP reservation for your coordinator in your router's settings. This prevents connection issues if the IP address changes.</p> <p>For USB Coordinators:</p> <ol> <li>Simply plug the coordinator into an available USB port on your Home Assistant machine. It should be auto-discovered.</li> </ol>"},{"location":"getting-started/#home-assistant-zha-setup","title":"Home Assistant (ZHA) Setup","text":"<p>Follow these instructions to configure your coordinator with the built-in ZHA integration.</p>"},{"location":"getting-started/#method-1-auto-discovery-recommended","title":"Method 1: Auto-Discovery (Recommended)","text":"<p>If Home Assistant discovers the device automatically, you will see a notification. Simply click through the configuration flow to add it to Home Assistant.</p> <p> </p> ZHA Discovery Notification <p> </p> ZHA Discovery Configuration"},{"location":"getting-started/#method-2-manual-setup","title":"Method 2: Manual Setup","text":"<p>If your coordinator is not discovered automatically, follow these steps:</p> <ol> <li>Navigate to Settings &gt; Devices &amp; Services and click Add Integration.</li> <li>Search for and select Zigbee Home Automation.     </li> <li>When asked, choose to Set up another instance of Zigbee Home Automation.     </li> <li>Select the Radio Type based on your coordinator model:<ul> <li>For CC2652p based gateways, select ZNP.</li> <li>For EFR32 based gateways, select EZSP.</li> </ul> </li> <li>In the Port Specific Settings dialog:<ul> <li>Enter <code>socket://IP_ADDRESS:6638</code> (replace <code>IP_ADDRESS</code> with your device's actual IP).</li> <li>Set Port Speed to <code>115200</code>.</li> <li>Select Software Flow Control. </li> </ul> </li> </ol>"},{"location":"getting-started/#zigbee2mqtt-setup","title":"Zigbee2MQTT Setup","text":"<p>ZHA vs. Zigbee2MQTT</p> <p>A coordinator can only be controlled by one service at a time. If Home Assistant auto-discovers the device for ZHA, you must choose to Ignore it before setting up Zigbee2MQTT. </p> <p>EFR32 Support</p> <p>At this time, only CC2652p based gateways are officially supported by Zigbee2MQTT. EFR32 gateways may work but are not recommended.</p>"},{"location":"getting-started/#configuring-the-serial-section","title":"Configuring the <code>serial</code> section","text":"<p>Whether you are using the Zigbee2MQTT addon or a standalone <code>configuration.yaml</code> file, you will need to edit the <code>serial</code> section.</p> <ol> <li>Navigate to the Zigbee2MQTT addon Configuration tab or open your <code>configuration.yaml</code> file.</li> <li>Find the <code>serial:</code> block. If it doesn't exist, add it.</li> <li>Use the tabs below to copy the correct configuration for your device.</li> </ol> <p> </p> Editing the serial settings in the addon configuration tab. <p>=== \"Network Coordinator (Ethernet)\"</p> <pre><code>For coordinators connected via Ethernet, use the `tcp://` port format. Replace `IP_ADDRESS` with your device's actual IP.\n\n```yaml\nserial:\n  port: 'tcp://IP_ADDRESS:6638'\n  # adapter: zstack  # For CC2652 based radios\n  # adapter: ember   # For EFR32 based radios\n```\n</code></pre> <p>=== \"USB Coordinator\"</p> <pre><code>For coordinators connected via USB, find the device path under **Settings &gt; System &gt; Hardware &gt; All Hardware**. It will start with `/dev/serial/by-id/...`.\n\n```yaml\nserial:\n  port: '/dev/serial/by-id/usb-1a86_TubesZB_971207DO-if00-port0'\n  # adapter: zstack  # For CC2652 based radios\n  # adapter: ember   # For EFR32 based radios\n```\n</code></pre>"},{"location":"getting-started/#esphome-web-interface","title":"ESPHome Web Interface","text":"<p>The ESP32 microcontroller inside the gateway runs ESPHome. You can access its web interface by navigating to the device's IP address in a browser.</p> <p>Ignore ESPHome Entities in Home Assistant</p> <p>ESPHome creates switch entities in Home Assistant that are used to prep the Zigbee module for firmware updates. It is highly advised to ignore or disable these entities. Accidentally toggling them can reset the Zigbee module and disrupt your network.</p>"},{"location":"getting-started/#firmware-updates","title":"Firmware Updates","text":"<p>Firmware update instructions can be found on the individual product pages.</p>"},{"location":"model-glossary/","title":"Model Glossary","text":"<p>Use this guide to visually identify your TubeZB device and find links to its specific documentation and source files.</p>"},{"location":"model-glossary/#current-models","title":"Current Models","text":"<p>These are the models currently available for purchase on tubeszb.com. Click the model name to go to the relevant documentation page.</p> Image Model Name Description EFR32 MGM24 PoE Coordinator 2024 EFR32MG24 Radio + Olimex ESP32-PoE Module CC2652P7 PoE Coordinator 2023 CC2652P7 Radio + Olimex ESP32-PoE Module CC2652P2 PoE Coordinator 2023 CC2652P2 Radio + Olimex ESP32-PoE Module CC2652P2 Ethernet/USB Coordinator 2023 CC2652P2 Radio + WirelessTag WT32-ETH01 Module Z-Wave PoE Kit Olimex ESP32-PoE base for Z-Wave modules Dual Radio Kit Combines Zigbee and Z-Wave radios Zigbee Router CC2652P2 Based Zigbee Router/Repeater Bluetooth Proxy Kit WirelessTag WT32-ETH01 ESP32 Module"},{"location":"model-glossary/#retired-models","title":"Retired Models","text":"<p>These are previous hardware versions that are no longer sold but are still supported. The links below go to the source files on GitHub.</p> Image Model Name Description tubeszb-efr32-MGM12-eth_usb MGM12P Radio Module + WirelessTag WT32-ETH01 ESP32 Module tubeszb-cc2652-eth CC2652P2 Radio Module + WirelessTag WT32-ETH01 ESP32 Module tubeszb-cc2652-poe CC2652P2 Radio Module + Olimex ESP32-PoE Module Image Needed tubeszb-efr32-MGM112-pro1 MGM12P Radio Module + WirelessTag WT32-ETH01 ESP32 Module tubeszb-efr32-MGM210_Series_2 MGM210 Radio Module + WirelessTag WT32-ETH01 ESP32 Module"},{"location":"bluetooth-proxy/","title":"WT32-ETH01 Bluetooth Proxy Kit","text":"<p>The TubeZB Bluetooth Proxy Kit is a simple and effective way to extend the Bluetooth coverage of your Home Assistant instance. It uses a wired ethernet connection for maximum reliability.</p>"},{"location":"bluetooth-proxy/#getting-started","title":"Getting Started","text":"<p>For initial setup and integration with Home Assistant, please follow the main Bluetooth Proxy getting started guide.</p> <p> View Bluetooth Proxy Getting Started Guide</p>"},{"location":"bluetooth-proxy/#how-it-works","title":"How It Works","text":"<p>This kit acts as a remote \"ear\" for Home Assistant. You can place it anywhere in your home where you have an ethernet connection. It will listen for Bluetooth Low Energy (BLE) advertisements from devices like temperature sensors, smart locks, and more. It then relays these messages back to Home Assistant over your wired network.</p> <p>This allows you to integrate Bluetooth devices that are far away from your main Home Assistant server.</p>"},{"location":"bluetooth-proxy/#firmware","title":"Firmware","text":"<p>The device comes pre-flashed with a standard ESPHome Bluetooth proxy firmware. If you ever need to re-flash or update the device, you can do so easily.</p>"},{"location":"bluetooth-proxy/#flashing-instructions","title":"Flashing Instructions","text":"<ol> <li>Connect the Bluetooth Proxy Kit to your computer using a USB-C data cable.</li> <li>Navigate to the TubesZB Web Flasher.</li> <li>Select \"Bluetooth Proxy\" from the device dropdown menu.</li> <li>Follow the on-screen instructions to connect to the device and flash the latest firmware.</li> </ol>"},{"location":"bluetooth-proxy/#advanced-users-source-yaml","title":"Advanced Users &amp; Source YAML","text":"<p>This kit is based on the official ESPHome Wireless Tag WT32-ETH01 project. Advanced users who wish to compile their own custom firmware can find the base YAML configuration files in the ESPHome GitHub repository.</p> <p>For more in-depth details on how the proxy functionality works within ESPHome, please refer to the official ESPHome Bluetooth Proxy Documentation.</p>"},{"location":"getting-started/bluetooth-proxy/","title":"Getting Started with Bluetooth Proxies","text":"<p>This guide will walk you through setting up your new TubeZB Bluetooth Proxy.</p>"},{"location":"getting-started/bluetooth-proxy/#what-is-a-bluetooth-proxy","title":"What is a Bluetooth Proxy?","text":"<p>A Bluetooth Proxy extends the range of Bluetooth reception for your Home Assistant instance. If you have Bluetooth devices (like temperature sensors, smart locks, etc.) that are too far away from your main Home Assistant machine to connect reliably, you can place a proxy closer to them. The proxy will listen for Bluetooth signals and relay them back to Home Assistant over your network (WiFi or Ethernet).</p>"},{"location":"getting-started/bluetooth-proxy/#physical-setup","title":"Physical Setup","text":"<ol> <li> <p>Connect the Bluetooth Proxy to your local network using an ethernet cable (recommended for best reliability).</p> </li> <li> <p>Power on the device using a 5V USB-C power supply.</p> </li> </ol>"},{"location":"getting-started/bluetooth-proxy/#home-assistant-setup","title":"Home Assistant Setup","text":"<p>Tube's Bluetooth Proxies run ESPHome. When you connect it to your network, Home Assistant should automatically discover it.</p> <ol> <li> <p>Ensure your Bluetooth Proxy is powered on and connected to the same network as your Home Assistant instance.</p> </li> <li> <p>A notification should appear in Settings &gt; Devices &amp; Services for a new ESPHome device.</p> </li> <li> <p>Click Configure and then Submit to add the proxy to your system.</p> </li> </ol> <p>That's it! The proxy will now automatically start listening for Bluetooth devices and forwarding the data. You don't need to do anything else. You can confirm it's working by seeing new Bluetooth devices appear in Home Assistant that were previously out of range.</p>"},{"location":"getting-started/router/","title":"Getting Started with Zigbee Routers","text":"<p>This guide covers the initial setup and pairing for all TubesZB Zigbee Routers.</p>"},{"location":"getting-started/router/#pairing-your-router","title":"Pairing Your Router","text":"<p>The process is designed to be as simple as possible. Your router will automatically try to join a Zigbee network when it's first powered on.</p> <ol> <li> <p>Enable Pairing: In your Zigbee platform (like ZHA or Zigbee2MQTT), enable \"permit join\" mode to allow new devices to connect.</p> </li> <li> <p>Power On the Router: Plug the router into a suitable USB power source.</p> <ul> <li>Current Models: Use a 5V 1-2A power supply with a USB-C cable.</li> <li>Older Models: Use a 5V 1-2A power supply with a Micro-USB cable.</li> </ul> </li> <li> <p>Wait for Pairing: The router should now be discovered and join your Zigbee network automatically. You will see it appear in your Zigbee integration's device list.</p> </li> </ol> <p>If the router does not pair, try power cycling it once while your network is still in pairing mode. For more advanced operations, please see the specific documentation for your router model.</p>"},{"location":"getting-started/z-wave-migration/","title":"Advanced: Migrating an Existing Z-Wave Network","text":"<p>Migrating your Z-Wave mesh to a TubesZB network controller lets you retire a USB stick without re-including every device. This guide focuses on migrations performed entirely inside Z-Wave JS UI while connecting to the TubesZB controller over TCP (<code>tcp://</code>).</p> <p>Read this first</p> <p>Migrations copy the controller's Non-Volatile Memory (NVM). If anything goes wrong you may lose access to your devices until the original controller is restored. </p>"},{"location":"getting-started/z-wave-migration/#when-to-use-this-guide","title":"When to Use This Guide","text":"<p>Use these instructions when you already run Home Assistant with the Z-Wave JS or Z-Wave JS UI add-on (or a separate Z-Wave JS UI instance) and want to move the existing network to one of the following TubesZB controllers:</p> <ul> <li>Z-Wave PoE kit (single radio) \u2013 TCP port <code>6638</code></li> <li>Dual radio PoE kit \u2013 Z-Wave available on TCP port <code>6639</code></li> </ul> <p>If you are starting from scratch, follow the standard Z-Wave Getting Started guide instead.</p>"},{"location":"getting-started/z-wave-migration/#prerequisites","title":"Prerequisites","text":"<p>Before you touch any hardware, confirm the following:</p> <ul> <li>Z-Wave JS UI access: You can open the web UI for the instance that manages your current Z-Wave network.</li> <li>Security keys recorded: Copy the existing <code>S2 Access Control</code>, <code>S2 Authenticated</code>, <code>S2 Unauthenticated</code>, and <code>S0 Legacy</code> keys from the current controller. Reusing the exact values is mandatory for secure devices to function after the migration.</li> <li>Old controller firmware: Update the firmware on the controller you are migrating from to the latest vendor release (SDK 7.19.x+ for 800-series radios is strongly recommended). Updated firmware fixes NVM compatibility bugs that can block migration.</li> <li>Home Assistant 2023.9 or newer: Required for the most recent <code>zwave_js</code> integration features referenced here.</li> <li>TubesZB controller on your network: The device is powered on, reachable over the LAN, and you know its IP address (or hostname). Assign a DHCP reservation so the address does not change mid-migration.</li> </ul>"},{"location":"getting-started/z-wave-migration/#step-1-back-up-the-existing-controller","title":"Step 1 \u2013 Back Up the Existing Controller","text":"<ol> <li>Open Z-Wave JS UI for your current controller.</li> <li>Go to Settings \u2192 Z-Wave \u2192 Security Keys and copy the four key values to a safe location (password manager or encrypted notes).</li> <li>Scroll to the bottom of the page and select Advanced Actions.</li> <li>Under NVM Management, click Backup.</li> <li>Wait for the <code>.bin</code> (or <code>.nvm</code>) file to download. Verify the file size is larger than 100 kB; small files usually indicate a failed backup.</li> </ol> Use the NVM Management panel in Z-Wave JS UI to create the backup you will restore onto the TubesZB controller."},{"location":"getting-started/z-wave-migration/#download-the-backup-from-home-assistant","title":"Download the backup from Home Assistant","text":"<p>Backing up from the Home Assistant UI is useful when you do not have direct access to Z-Wave JS UI or want a second copy of the data.</p> <p>Why create a backup? :   It is recommended to create a backup before making major changes to your Z-Wave network, such as migrating between adapters or resetting hardware. The backup captures the adapter's Non-Volatile Memory (NVM), including your node and security information, in a binary file that you can download.</p> <p>Prerequisites :   Administrator rights in Home Assistant.</p> <p>To download the backup 1. In Home Assistant, go to Settings \u2192 Devices &amp; services. 2. Select the Z-Wave integration. 3. Choose the cogwheel icon to open the integration options. 4. Under Backup and restore, select Download backup. 5. Confirm the browser downloads the file on the device you are using to access Home Assistant.</p> <p>Using the Z-Wave JS add-on (no UI)</p> <p>If you still run the legacy Z-Wave JS add-on without the UI, install the Z-Wave JS UI add-on alongside it, stop the Z-Wave JS add-on, start the UI version, and point it to your existing USB stick. Once the UI sees your nodes, you can take the NVM backup from the UI and continue the migration.</p> <p>Alternatively, download the backup from within Home Assistant:</p> <ol> <li>In Home Assistant, go to Settings \u2192 Devices &amp; services.</li> <li>Select the Z-Wave integration and choose the cogwheel icon.</li> <li>Under Backup and restore, select Download backup. The file saves to the device you are using.</li> <li>Stop the Z-Wave JS add-on and disable auto-start.</li> <li>Remove your old controller.</li> </ol>"},{"location":"getting-started/z-wave-migration/#step-2-prepare-the-tubeszb-controller","title":"Step 2 \u2013 Prepare the TubesZB Controller","text":"<ol> <li>Make sure the TubesZB hardware is powered and connected to your network.</li> <li>In Z-Wave JS UI, stay on Settings \u2192 Z-Wave and populate the Serial Port field with the TCP path to the TubesZB kit. Examples:</li> <li>Single radio kit: <code>tcp://192.168.1.42:6638</code></li> <li>Dual radio kit (Z-Wave side): <code>tcp://192.168.1.42:6639</code></li> <li>Paste the security keys you collected in Step 1 into the matching fields. Do not generate new keys when migrating an existing mesh.</li> <li>Click Save. The service will restart and attempt to reach the new controller over TCP.</li> </ol> <p>Only one controller at a time</p> <p>After clicking Save, immediately unplug or power down the old USB controller. Running two controllers with the same Home ID at once can corrupt your mesh and create routing chaos.</p>"},{"location":"getting-started/z-wave-migration/#step-3-restore-the-nvm-backup","title":"Step 3 \u2013 Restore the NVM Backup","text":"<ol> <li>In Z-Wave JS UI, open Advanced Actions \u2192 NVM Management again.</li> <li>Choose Restore and upload the backup file you created in Step 1.</li> <li>Wait for the progress dialog to reach 100%. Do not close the browser or refresh the page.</li> <li>When prompted, allow Z-Wave JS UI to restart the controller.</li> <li>After the restart completes, the controller should display the same Home ID as the old stick, and your devices will appear in the control panel.</li> </ol> <p>RF region and power</p> <p>Double-check Settings \u2192 Z-Wave \u2192 RF Region. Z-Wave JS should auto select the correct region if not select the region that matches your regulatory requirements before you restore the NVM. Changing the region afterwards requires another restore.</p>"},{"location":"getting-started/z-wave-migration/#step-4-verify-home-assistant-and-rebuild-routes","title":"Step 4 \u2013 Verify Home Assistant and Rebuild Routes","text":"<ol> <li>Open Settings \u2192 Devices &amp; Services in Home Assistant and ensure the existing <code>Z-Wave JS</code> integration shows as Connected. If it is unavailable, select Configure and confirm that the WebSocket URL still points to your Z-Wave JS UI instance (typically <code>ws://a0d7b954-zwavejsui:3000</code>).</li> <li>In Z-Wave JS UI, review a few nodes to confirm their interview status is Complete.</li> <li>Launch Advanced Actions \u2192 Rebuild Routes.</li> <li>Enable Include sleeping nodes so battery-powered devices refresh their paths.</li> <li>Enable Delete priority return routes to discard stale manual routes from the old controller.</li> <li>Monitor the control panel for failed nodes. Wake sleeping devices manually if needed to finish the rebuild.</li> <li>Once the rebuild finishes, verify automations and entities in Home Assistant behave as expected.</li> </ol>"},{"location":"getting-started/z-wave-migration/#step-5-clean-up-and-update-backups","title":"Step 5 \u2013 Clean Up and Update Backups","text":"<ul> <li>Archive the NVM backup you created in Step 1 along with a fresh backup taken from the TubesZB controller after the restore.</li> <li>Label the old USB stick and store it powered off. Do not plug it back in unless you intend to roll back to it.</li> <li>Update any documentation or diagrams that list the controller address so they reference the <code>tcp://</code> endpoint.</li> </ul>"},{"location":"getting-started/z-wave-migration/#troubleshooting","title":"Troubleshooting","text":"<p>Controller refuses the TCP connection :   Confirm the TubesZB kit is running the latest ESPHome firmware and that your firewall allows outbound TCP 6638/6639 from Home Assistant.</p> <p>Nodes show as failed or missing after restore :   Wake battery devices, then run Advanced Actions \u2192 Heal Node on problematic nodes. If secure devices still fail, verify the security keys exactly match the originals (no extra whitespace).</p> <p>Home Assistant keeps rediscovering a second controller :   You may have left the old USB stick connected. Remove it, reboot Home Assistant, and clear ignored discovery notifications.</p> <p>Restoring the NVM fails immediately :   The old controller firmware may pre-date the TubesZB controller's stack version. Update the original controller to a newer SDK, re-connect it temporarily, create a fresh backup, and try again.</p>"},{"location":"getting-started/z-wave-migration/#further-reading","title":"Further Reading","text":"<ul> <li>Home Assistant: Migrating a Z-Wave network to a new adapter</li> <li>Nabu Casa: Migrating an existing Z-Wave network to Home Assistant Connect ZWA-2</li> <li>Z-Wave JS UI Documentation</li> </ul>"},{"location":"getting-started/z-wave/","title":"Getting Started with the Z-Wave PoE Kit","text":"<p>This guide will walk you through setting up your new TubeZB Z-Wave PoE Kit with Home Assistant.</p> <p>Choose the right path</p> <ul> <li>Setting up your first Z-Wave network? Continue with this guide.</li> <li>Migrating from another controller? Follow the Advanced: Migrating an Existing Z-Wave Network guide instead.</li> </ul>"},{"location":"getting-started/z-wave/#1-physical-setup","title":"1. Physical Setup","text":"<p>Your setup steps will depend on whether you purchased the kit with the Zooz Z-Wave module pre-installed or the \"No Radio\" version.</p>"},{"location":"getting-started/z-wave/#option-a-kit-with-pre-installed-zooz-zac93","title":"Option A: Kit with Pre-installed Zooz ZAC93","text":"<p>If you purchased the kit with the Zooz ZAC93 module included, it comes pre-installed and ready to go.</p> <ol> <li>Connect the Z-Wave PoE Kit to your local network using an ethernet cable that provides Power over Ethernet (PoE).</li> <li>The device will power on and connect to your network.</li> <li>Find the IP Address assigned to the device from your router's client list.</li> </ol> <p>Use a DHCP Reservation (Recommended)</p> <p>To ensure the device's IP address doesn't change, it is strongly advised to configure a DHCP Reservation for it in your router's settings. This links the device's unique MAC address to a specific IP, so it gets the same one every time it connects.</p> <p>Advanced: Static IP Firmware</p> <p>Setting a true static IP requires custom firmware. For advanced users who need this, you can build a custom firmware binary using the TubesZB ESPHome Firmware Builder.</p> <p>Register Your Zooz Module!</p> <p>If you purchased a kit including the Zooz ZAC93, be sure to register your module with Zooz within 30 days of purchase. This gives you a 5-Year Extended Warranty, direct access to firmware updates, and expedited support.</p>"},{"location":"getting-started/z-wave/#option-b-kit-with-no-radio-bring-your-own-module","title":"Option B: Kit with No Radio (Bring Your Own Module)","text":"<p>If you purchased the \"No Radio\" version of the kit, you will need to provide and install your own compatible Z-Wave module.</p>"},{"location":"getting-started/z-wave/#compatible-modules","title":"Compatible Modules","text":"<p>This kit is designed for Z-Wave modules that use the Raspberry Pi GPIO pin layout.</p> <ul> <li>Zooz 800 Long Range ZAC93</li> <li>Z-Wave.me RaZberry 7 Pro</li> </ul> <p>Affiliate Link Disclosure</p> <p>The links above are Amazon affiliate links. As an Amazon Associate, I earn from qualifying purchases.</p>"},{"location":"getting-started/z-wave/#installation","title":"Installation","text":"<ol> <li>Carefully open the 3D printed enclosure.</li> <li>Align the GPIO pins on your Z-Wave module with the female GPIO header on the Olimex ESP32-PoE board.</li> <li>Press down firmly and evenly to seat the module securely. Ensure all pins are correctly engaged.</li> <li>Close the enclosure.</li> <li>Follow the steps in Option A to connect the device to your network and find its IP address.</li> </ol>"},{"location":"getting-started/z-wave/#2-home-assistant-setup","title":"2. Home Assistant Setup","text":"<p>The recommended method for using this Z-Wave kit is with the Z-Wave JS UI addon in Home Assistant.</p> <ol> <li> <p>Install and Start the Addon:</p> <ul> <li>Click the badge below to open the Z-Wave JS UI addon page in your Home Assistant instance and click Install.</li> </ul> <p></p> <ul> <li>Once installed, go to the Info tab and Start the addon.</li> </ul> </li> <li> <p>Configure the Addon via the Web UI:</p> <ul> <li>After the addon has started, click Open Web UI.</li> <li>In the Z-Wave JS UI interface, navigate to Settings (the gear icon) and then select Z-Wave.</li> <li> <p>In the Serial Port field, enter the network path for your Z-Wave kit, replacing <code>IP_ADDRESS</code> with the IP you found earlier:   <pre><code>tcp://IP_ADDRESS:6638\n</code></pre> Entering the TCP address in the Serial Port field. </p> <p>Important Note for Dual Radio Kits</p> <p>If setting up Z-Wave on a Dual Radio kit it uses port <code>6639</code>.</p> </li> <li> <p>Generate and Save Security Keys:     !!! danger \"Critical Step for New Networks\"         If you are setting up a new network, you must generate new security keys. These keys are essential for securely including devices and for backing up your network.</p> <ol> <li>Scroll down to the Security Keys section.</li> <li>Click the refresh icon next to each of the four keys (<code>S2_AccessControl</code>, <code>S2_Authenticated</code>, <code>S2_Unauthenticated</code>, and <code>S0_Legacy</code>) to generate new random values.</li> <li>Copy and save these keys somewhere safe, like a password manager. You will need them if you ever have to restore your network.</li> </ol> </li> </ul> <p> Generating new security keys by clicking the refresh icon for each key. </p> <ul> <li>Click Save at the bottom of the page. The addon will restart and connect to your Z-Wave PoE Kit. You can check the Control Panel to see your Z-Wave stick appear as the controller.</li> </ul> </li> <li> <p>Install the Z-Wave JS Integration:</p> <ul> <li>Navigate back to Home Assistant and go to Settings &gt; Devices &amp; Services.</li> <li>Home Assistant should now auto-discover the Z-Wave JS integration. Click Configure and follow the prompts.</li> <li>If it is not discovered, click Add Integration and search for Z-Wave.</li> <li>You will be prompted to either use the recommended installation or a custom one. Since we are using the Z-Wave JS UI addon, you can proceed with the Recommended installation.  Choose the recommended installation. </li> <li>In the next dialog, uncheck the box that says \"Use the Z-Wave Supervisor add-on\" and click Submit.  Uncheck the box to provide the URL manually. </li> <li>You will now be asked for a URL. For the official Home Assistant addon, you can find the correct hostname on the addon's page.  The addon hostname can be found on the Addon Info page. </li> <li>Enter the following value, which tells the integration how to connect to your Z-Wave JS UI addon:   <pre><code>ws://a0d7b954-zwavejsui:3000\n</code></pre> Enter the addon's WebSocket URL. </li> </ul> <p>Connecting to a Remote Z-Wave JS UI</p> <p>If you are running Z-Wave JS UI on a different computer (not as a Home Assistant addon), you must replace <code>a0d7b954-zwavejsui</code> with the hostname or IP address of that computer. For example: <code>ws://192.168.1.100:3000</code>.</p> <ul> <li>Click Submit to complete the setup. The integration will connect, and your Z-Wave devices will appear in Home Assistant.</li> </ul> </li> </ol>"},{"location":"getting-started/zigbee/","title":"Getting Started with Zigbee Coordinators","text":"<p>This guide will walk you through setting up your new TubesZB Zigbee Coordinator with Home Assistant.</p>"},{"location":"getting-started/zigbee/#first-steps-physical-setup","title":"First Steps: Physical Setup","text":"<p>For Network (Ethernet) Coordinators:</p> <ol> <li>Connect the gateway to your local network using an ethernet cable.</li> <li>For non-PoE models power the gateway using a 5v 1.5-2A power supply with the included USB-C cable (MicroUSB on older models). The ethernet port's link lights will begin to blink as it connects to your network.</li> <li>Determine the device's IP address from your router's client list.</li> </ol> <p>Use a DHCP Reservation (Recommended)</p> <p>To ensure the device's IP address doesn't change, it is strongly advised to configure a DHCP Reservation for it in your router's settings. This links the device's unique MAC address to a specific IP, so it gets the same one every time it connects.</p> <p>Advanced: Static IP Firmware</p> <p>Setting a true static IP requires custom firmware. For advanced users who need this, you can build a custom firmware binary using the TubesZB ESPHome Firmware Builder.</p> <p>For USB Coordinators:</p> <ol> <li>Simply plug the coordinator's USB Cable into an available USB port on your Home Assistant machine. It should be auto-discovered.</li> </ol>"},{"location":"getting-started/zigbee/#home-assistant-zha-setup","title":"Home Assistant (ZHA) Setup","text":"<p>Follow these instructions to configure your coordinator with the built-in ZHA integration.</p>"},{"location":"getting-started/zigbee/#method-1-auto-discovery-recommended","title":"Method 1: Auto-Discovery (Recommended)","text":"<p>If Home Assistant discovers the device automatically, you will see a notification. Simply click through the configuration flow to add it to Home Assistant.</p> <p> </p> ZHA Discovery Notification <p> </p> ZHA Discovery Configuration"},{"location":"getting-started/zigbee/#method-2-manual-setup","title":"Method 2: Manual Setup","text":"<p>If your coordinator is not discovered automatically, follow these steps:</p> <ol> <li>Navigate to Settings &gt; Devices &amp; Services and click Add Integration.</li> <li>Search for and select Zigbee Home Automation.     </li> <li>When asked, choose to Set up another instance of Zigbee Home Automation.     </li> <li>Select the Radio Type based on your coordinator model:<ul> <li>For CC2652p based gateways, select ZNP.</li> <li>For EFR32 based gateways, select EZSP.</li> </ul> </li> <li> <p>In the Port Specific Settings dialog:</p> <ul> <li>Enter <code>socket://IP_ADDRESS:6638</code> (replace <code>IP_ADDRESS</code> with your device's actual IP).</li> <li>Set Port Speed to <code>115200</code>.</li> <li>Select Software Flow Control.</li> </ul> <p></p> </li> </ol>"},{"location":"getting-started/zigbee/#zigbee2mqtt-setup","title":"Zigbee2MQTT Setup","text":"<p>ZHA vs. Zigbee2MQTT</p> <p>A coordinator can only be controlled by one service at a time. If Home Assistant auto-discovers the device for ZHA, you must choose to Ignore it before setting up Zigbee2MQTT. </p> <p>EFR32 Support</p> <p>Zigbee2MQTT supports EFR32 coordinators, but the must be on a 7.4.x or greater firmware</p>"},{"location":"getting-started/zigbee/#configuring-the-serial-section","title":"Configuring the <code>serial</code> section","text":"<p>Whether you are using the Zigbee2MQTT addon or a standalone <code>configuration.yaml</code> file, you will need to edit the <code>serial</code> section.</p> <ol> <li>Navigate to the Zigbee2MQTT addon Configuration tab or open your <code>configuration.yaml</code> file.</li> <li>Find the <code>serial:</code> block. If it doesn't exist, add it.</li> <li>Use the tabs below to copy the correct configuration for your device.</li> </ol> <p> </p> Editing the serial settings in the addon configuration tab."},{"location":"getting-started/zigbee/#network-coordinator-ethernet","title":"Network Coordinator (Ethernet)","text":"<pre><code>For coordinators connected via Ethernet, use the `tcp://` port format. Replace `IP_ADDRESS` with your device's actual IP.\n\n```yaml\nserial:\n  port: 'tcp://IP_ADDRESS:6638'\n  # adapter: zstack  # For CC2652 based radios\n  # adapter: ember   # For EFR32 based radios\n```\n</code></pre>"},{"location":"getting-started/zigbee/#usb-coordinator","title":"USB Coordinator","text":"<pre><code>For coordinators connected via USB, find the device path under **Settings &gt; System &gt; Hardware &gt; All Hardware**. It will start with `/dev/serial/by-id/...`.\n\n```yaml\nserial:\n  port: '/dev/serial/by-id/usb-1a86_TubesZB_971229NY-if00-port0'\n  # adapter: zstack  # For CC2652 based radios\n  # adapter: ember   # For EFR32 based radios\n```\n</code></pre>"},{"location":"getting-started/zigbee/#esphome-web-interface","title":"ESPHome Web Interface","text":"<p>The ESP32 microcontroller inside the gateway runs ESPHome. You can access its web interface by navigating to the device's IP address in a browser.</p> <p>If you add the ESPHome device to you Home Assistant instance it will create some diagnostic entities for showing if the serial connection connected or not. as well as the connection count. </p> <p></p> <p>Ignore ESPHome Entities in Home Assistant</p> <p>There are several other enties that are created but set as disabled by default. It is highly advised to leave these as disabled. Accidentally toggling them can reset the Zigbee module and disrupt your network.</p>"},{"location":"getting-started/zigbee/#firmware-updates","title":"Firmware Updates","text":"<p>Firmware update instructions can be found on the individual product pages.</p>"},{"location":"zigbee-coordinators/","title":"Zigbee Coordinators","text":"<p>TubesZB coordinators provide a reliable Ethernet or USB bridge between your Zigbee radio and Home Assistant or Zigbee2MQTT. The two platform families below cover different radio stacks while sharing the same setup flow.</p>"},{"location":"zigbee-coordinators/#efr32-platform-silicon-labs-ezsp","title":"EFR32 Platform (Silicon Labs EZSP)","text":"<p>EFR32 radios use the Silicon Labs EZSP/Ember stack. They are supported by both ZHA and Zigbee2MQTT and are a strong choice for modern Zigbee networks.</p> <ul> <li>ZHA radio type: EZSP</li> <li>Zigbee2MQTT adapter: ember</li> </ul>"},{"location":"zigbee-coordinators/#mgm24","title":"MGM24","text":"<ul> <li>2.4 GHz radio</li> <li>TX power up to +19.9 dBm</li> <li>32-bit ARM Cortex-M33, 78 MHz</li> <li>1536 KB flash program memory</li> <li>256 KB RAM data memory</li> </ul>"},{"location":"zigbee-coordinators/#mgm21","title":"MGM21","text":"<ul> <li>2.4 GHz radio</li> <li>TX power up to +20 dBm</li> <li>32-bit ARM Cortex-M33 with DSP instructions and floating point unit</li> <li>1024 KB flash program memory</li> <li>96 KB RAM data memory</li> <li>Embedded Trace Macrocell (ETM) for advanced debugging</li> </ul>"},{"location":"zigbee-coordinators/#mgm12","title":"MGM12","text":"<ul> <li>32-bit ARM Cortex-M4 core, 40 MHz maximum operating frequency</li> <li>Up to 1 MB flash and 256 KB RAM</li> <li>Pin-compatible across EFR32MG families (5V-tolerant pins excluded)</li> <li>12-channel Peripheral Reflex System, low-energy sensor interface, and multi-channel capacitive sense interface</li> <li>Autonomous hardware crypto accelerator and true random number generator</li> <li>Integrated PA with up to 19 dBm (2.4 GHz) or 20 dBm (Sub-GHz) TX power</li> <li>Integrated balun for 2.4 GHz</li> <li>Robust peripheral set and up to 65 GPIO</li> </ul>"},{"location":"zigbee-coordinators/#cc2652-platform-ti-znp","title":"CC2652 Platform (TI ZNP)","text":"<p>CC2652/CC1352 radios use the Texas Instruments ZNP stack and are widely supported in both ZHA and Zigbee2MQTT. These models are known for broad device compatibility and a mature firmware ecosystem.</p> <ul> <li>ZHA radio type: ZNP</li> <li>Zigbee2MQTT adapter: zstack</li> </ul>"},{"location":"zigbee-coordinators/#cc2652-cc1352","title":"CC2652 / CC1352","text":"<ul> <li>48 MHz ARM Cortex-M4F processor</li> <li>704 KB in-system programmable flash (352 KB on P2)</li> <li>256 KB ROM for protocol and library functions</li> <li>8 KB cache SRAM (or general-purpose RAM)</li> <li>144 KB ultra-low leakage SRAM (80 KB on P2)</li> <li>Output power up to +20 dBm</li> <li>Z-Stack firmware supports 50 direct children, 100 normal routes, and 200 source routes</li> </ul>"},{"location":"zigbee-coordinators/#supported-in-zha-and-zigbee2mqtt","title":"Supported in ZHA and Zigbee2MQTT","text":"<p>Both CC2652 and EFR32 platforms are supported by Home Assistant's ZHA integration and Zigbee2MQTT. The main difference is the adapter selection in each platform's configuration. Setup steps and TCP/USB connection paths are the same across both families.</p>"},{"location":"zigbee-coordinators/#radio-migration-guides","title":"Radio Migration Guides","text":"<ul> <li>ZHA migration: Home Assistant ZHA migration guide</li> <li>Zigbee2MQTT migration: Zigbee2MQTT adapter migration FAQ</li> </ul>"},{"location":"zigbee-coordinators/#choose-your-path","title":"Choose Your Path","text":"<ul> <li>CC2652-Based Coordinators</li> <li>EFR32-Based Coordinators</li> <li>Coordinator Firmware Updates</li> </ul>"},{"location":"zigbee-coordinators/firmware-updates/","title":"Coordinator Firmware Updates","text":"<p>TubesZB coordinators have two independent firmwares:</p> <ul> <li>ESP32 firmware (ESPHome): handles Ethernet/USB bridging, web UI, and diagnostics.</li> <li>Zigbee radio firmware: the CC2652/CC1352 or EFR32 radio itself.</li> </ul> <p>Back up before updating</p> <p>Zigbee radio firmware updates erase the coordinator state. ZHA and Zigbee2MQTT both create automatic backups, but confirm you have a recent backup before updating.</p>"},{"location":"zigbee-coordinators/firmware-updates/#esp32-firmware-esphome","title":"ESP32 Firmware (ESPHome)","text":"<p>ESPHome firmware is now built in the TubesZB ESPHome Builder. The standalone ESPHome Flasher app is no longer maintained and is not recommended.</p>"},{"location":"zigbee-coordinators/firmware-updates/#recommended-update-from-the-device-web-ui","title":"Recommended: Update from the device web UI","text":"<p>Modern TubesZB firmware supports updating directly from the coordinator without any external program.</p> <ol> <li>Open the coordinator web UI at <code>http://IP_ADDRESS</code>.</li> <li>Use the Update or Firmware option in the UI.</li> <li>Upload the new <code>.bin</code> from the TubesZB ESPHome Builder.</li> <li>Wait for the device to reboot and reconnect.</li> </ol>"},{"location":"zigbee-coordinators/firmware-updates/#web-flasher-usb","title":"Web flasher (USB)","text":"<p>If you need to flash over USB or recover a device, use the ESPHome Web Flasher:</p> <ol> <li>Build or download the firmware <code>.bin</code> from the TubesZB ESPHome Builder.</li> <li>Open <code>https://web.esphome.io</code> in a Chromium-based browser.</li> <li>Connect the coordinator over USB and select the correct serial device.</li> <li>Choose the <code>.bin</code> file and flash.</li> </ol> <p>When to use the web flasher</p> <p>Use the web flasher for first-time installs, recovery, or when the device web UI is unavailable.</p>"},{"location":"zigbee-coordinators/firmware-updates/#zigbee-radio-firmware-cc2652cc1352","title":"Zigbee Radio Firmware (CC2652/CC1352)","text":"<p>CC2652 and CC1352 radios update over the same TCP or USB path used for Zigbee traffic.</p> <ol> <li>Download a coordinator firmware from the Z-Stack repository. https://github.com/Koenkk/Z-Stack-firmware/tree/master/coordinator/Z-Stack_3.x.0/bin</li> <li>Install the cc2538-bsl flasher. https://github.com/JelmerT/cc2538-bsl</li> </ol>"},{"location":"zigbee-coordinators/firmware-updates/#ethernet-update-poe-or-ethernetusb-in-ethernet-mode","title":"Ethernet update (PoE or Ethernet/USB in Ethernet mode)","text":"<ol> <li>Open the coordinator web UI at <code>http://IP_ADDRESS</code>.</li> <li>Trigger the Zigbee bootloader from the web UI. The toggle is labeled \"Trigger Zigbee Module Bootloader\" or \"Prep CC2652 for firmware\" depending on the firmware build.</li> <li>Run the flasher:</li> </ol> <pre><code>cc2538-bsl.py -p socket://IP_ADDRESS:6638 -evw path_to_firmware/CC1352P2_CC2652P_launchpad_coordinator_YYYYMMDD.hex\n</code></pre> <p>For CC2652 P7 models, use a <code>CC1352P7_coordinator_*.hex</code> firmware file.</p>"},{"location":"zigbee-coordinators/firmware-updates/#usb-update-ethernetusb-model-in-usb-mode","title":"USB update (Ethernet/USB model in USB mode)","text":"<ol> <li>Hold the BSL button while plugging the USB cable in.</li> <li>Run the flasher:</li> </ol> <pre><code>cc2538-bsl.py -p /dev/serial/by-id/usb-1a86_TubesZB_XXXXXXXX-if00-port0 -evw path_to_firmware/CC1352P2_CC2652P_launchpad_coordinator_YYYYMMDD.hex\n</code></pre> <p>Windows users may need the CH340 USB serial driver for USB flashing.</p>"},{"location":"zigbee-coordinators/cc2652-based/","title":"CC2652-Based Coordinators","text":"<p>TubesZB CC2652 coordinators use the TI ZNP stack and expose the Zigbee radio over TCP (Ethernet/PoE) or USB. These models work with both ZHA and Zigbee2MQTT.</p> <p>Start here</p> <p>If you are setting up your coordinator for the first time, begin with the Getting Started guide for Zigbee coordinators.</p>"},{"location":"zigbee-coordinators/cc2652-based/#models","title":"Models","text":"Model Connection Radio ESPHome Builder manifest CC2652 PoE 2022 Ethernet (PoE) CC2652P2 tubeszb-cc2652p2-poe-2022.yaml CC2652 PoE 2023 Ethernet (PoE) CC2652P2 tubeszb-cc2652p2-poe-2023.yaml CC2652 P7 PoE 2023 Ethernet (PoE) CC1352P7 tubeszb-cc2652p7-poe-2023.yaml CC2652 Ethernet/USB 2022/2023 Ethernet or USB CC2652P2 tubeszb-cc2652p2-ethusb-2022.yaml and tubeszb-cc2652p2-ethusb-2023.yaml <p>ESPHome configs moved</p> <p>ESPHome YAMLs in this repo are kept for historical reference and are not expected to compile with current ESPHome versions. Use the ESPHome Builder manifests above for active builds.</p>"},{"location":"zigbee-coordinators/cc2652-based/#model-highlights","title":"Model Highlights","text":""},{"location":"zigbee-coordinators/cc2652-based/#cc2652-poe-2022","title":"CC2652 PoE 2022","text":"<p>Photo: front view</p> <ul> <li>PoE powered Ethernet coordinator</li> <li>CC2652P2 radio (ZNP)</li> <li>TCP port <code>6638</code></li> </ul>"},{"location":"zigbee-coordinators/cc2652-based/#cc2652-poe-2023","title":"CC2652 PoE 2023","text":"<p>Photo: front view</p> <ul> <li>PoE powered Ethernet coordinator</li> <li>CC2652P2 radio (ZNP)</li> <li>TCP port <code>6638</code></li> </ul>"},{"location":"zigbee-coordinators/cc2652-based/#cc2652-p7-poe-2023","title":"CC2652 P7 PoE 2023","text":"<p>Photo: front view</p> <ul> <li>PoE powered Ethernet coordinator</li> <li>CC1352P7 radio (ZNP)</li> <li>TCP port <code>6638</code></li> </ul>"},{"location":"zigbee-coordinators/cc2652-based/#cc2652-ethernetusb-20222023","title":"CC2652 Ethernet/USB 2022/2023","text":"<p>Photo: closed view</p> <ul> <li>Works over Ethernet or USB</li> <li>CC2652P2 radio (ZNP)</li> <li>TCP port <code>6638</code> when in Ethernet mode</li> </ul>"},{"location":"zigbee-coordinators/cc2652-based/#power-and-safety","title":"Power and Safety","text":"<p>PoE models require a PoE switch or injector and at least 37V DC. USB-only models use standard 5V power.</p> <p>Do not mix power sources</p> <p>Do not connect PoE and USB power at the same time. Doing so can permanently damage the board or your computer.</p>"},{"location":"zigbee-coordinators/cc2652-based/#zha-and-zigbee2mqtt-setup","title":"ZHA and Zigbee2MQTT Setup","text":"<p>ZHA setup uses the ZNP radio type and connects over TCP or USB.</p> <p>ZHA over Ethernet: <code>socket://IP_ADDRESS:6638</code></p> <p>ZHA over USB: Use the <code>/dev/serial/by-id/...</code> path shown in Home Assistant Hardware.</p> <p>Zigbee2MQTT over Ethernet:</p> <pre><code>serial:\n  port: 'tcp://IP_ADDRESS:6638'\n  adapter: zstack\n</code></pre> <p>Zigbee2MQTT over USB:</p> <pre><code>serial:\n  port: '/dev/serial/by-id/usb-1a86_TubesZB_XXXXXXXX-if00-port0'\n  adapter: zstack\n</code></pre>"},{"location":"zigbee-coordinators/cc2652-based/#firmware-updates","title":"Firmware Updates","text":"<p>ESP32 firmware updates now use the TubesZB ESPHome Builder and the device web UI or the ESPHome Web Flasher. The standalone ESPHome Flasher app is no longer maintained.</p> <p>See Coordinator Firmware Updates for the current workflow.</p>"},{"location":"zigbee-coordinators/cc2652-based/#cc2652-ethernetusb-jumper-modes","title":"CC2652 Ethernet/USB Jumper Modes","text":"<p>These images apply to the CC2652 Ethernet/USB coordinator.</p> <p>Zigbee over Ethernet (serial over TCP):</p> <p> </p> Jumpers closest to the female headers route Zigbee to Ethernet. <p>Zigbee over USB:</p> <p> </p> Middle jumpers route Zigbee to USB. <p>ESP32 flashing mode:</p> <p> </p> Jumpers farthest from the female headers route the ESP32 serial to USB. <p>Zigbee over Ethernet with ESP32 debug over USB:</p> <p> </p> Two jumper pairs enable Zigbee over Ethernet while keeping ESP32 debug on USB."},{"location":"zigbee-coordinators/cc2652-based/#legacy-models","title":"Legacy Models","text":"<p>Retired CC2652 coordinators and legacy instructions are kept in the legacy page.</p> <p>See CC2652 Legacy Models.</p>"},{"location":"zigbee-coordinators/cc2652-based/legacy/","title":"CC2652 Legacy Models","text":"<p>This page collects retired CC2652-based coordinators and legacy references. These models are no longer actively updated.</p> <p>Historical reference only</p> <p>Files in the model folders are kept for historical reference and may not compile with current ESPHome versions.</p>"},{"location":"zigbee-coordinators/cc2652-based/legacy/#retired-models","title":"Retired Models","text":"<ul> <li>CC2652 Ethernet (original)</li> <li>CC2652 PoE (original)</li> <li>CC2652 PoE ISO</li> <li>CC2652 USB</li> </ul> <p>If you still operate a retired model, use the same Zigbee setup flow as current CC2652 models and refer to the coordinator firmware update instructions when needed.</p> <p>See Coordinator Firmware Updates.</p>"},{"location":"zigbee-coordinators/efr32-based/","title":"EFR32-Based Coordinators","text":"<p>TubesZB EFR32 coordinators use Silicon Labs EZSP (Ember) radios and expose the Zigbee interface over TCP (Ethernet/PoE) or USB depending on model. These models work with ZHA and Zigbee2MQTT.</p> <p>Start here</p> <p>If you are setting up your coordinator for the first time, begin with the Getting Started guide for Zigbee coordinators.</p>"},{"location":"zigbee-coordinators/efr32-based/#models","title":"Models","text":"Model Connection Radio Photo ESPHome Builder manifest EFR32 MGM210 PoE 2022/2023 Ethernet (PoE) EZSP enclosure reference tubeszb-efr32-mgm210-poe-2022.yaml and tubeszb-efr32-mgm210-poe-2023.yaml EFR32 MGM24 2023 Ethernet (PoE) EZSP connection diagram tubeszb-efr32-mgm24-2023.yaml EFR32 MGM12 2022 Ethernet or USB EZSP front view Not yet in the ESPHome Builder manifests <p>ESPHome configs moved</p> <p>ESPHome YAMLs in this repo are kept for historical reference and are not expected to compile with current ESPHome versions. Use the ESPHome Builder manifests when available.</p>"},{"location":"zigbee-coordinators/efr32-based/#model-highlights","title":"Model Highlights","text":""},{"location":"zigbee-coordinators/efr32-based/#efr32-mgm210-poe-20222023","title":"EFR32 MGM210 PoE 2022/2023","text":"<p>Photo: enclosure reference</p> <ul> <li>PoE powered Ethernet coordinator</li> <li>EZSP radio</li> <li>TCP port <code>6638</code></li> </ul>"},{"location":"zigbee-coordinators/efr32-based/#efr32-mgm24-2023","title":"EFR32 MGM24 2023","text":"<p>Photo: connection diagram</p> <ul> <li>PoE powered Ethernet coordinator</li> <li>EZSP radio</li> <li>TCP port <code>6638</code></li> </ul>"},{"location":"zigbee-coordinators/efr32-based/#efr32-mgm12-2022","title":"EFR32 MGM12 2022","text":"<p>Photo: front view</p> <ul> <li>Ethernet or USB connectivity</li> <li>EZSP radio</li> <li>TCP port <code>6638</code> when in Ethernet mode</li> </ul>"},{"location":"zigbee-coordinators/efr32-based/#zha-and-zigbee2mqtt-setup","title":"ZHA and Zigbee2MQTT Setup","text":"<p>ZHA setup uses the EZSP radio type and connects over TCP or USB.</p> <p>ZHA over Ethernet: <code>socket://IP_ADDRESS:6638</code></p> <p>ZHA over USB: Use the <code>/dev/serial/by-id/...</code> path shown in Home Assistant Hardware.</p> <p>Zigbee2MQTT over Ethernet:</p> <pre><code>serial:\n  port: 'tcp://IP_ADDRESS:6638'\n  adapter: ember\n</code></pre> <p>Zigbee2MQTT over USB:</p> <pre><code>serial:\n  port: '/dev/serial/by-id/usb-1a86_TubesZB_XXXXXXXX-if00-port0'\n  adapter: ember\n</code></pre> <p>Zigbee2MQTT firmware requirement</p> <p>Zigbee2MQTT requires EFR32 coordinator firmware 7.4.x or newer.</p>"},{"location":"zigbee-coordinators/efr32-based/#firmware-updates","title":"Firmware Updates","text":"<p>ESP32 firmware updates now use the TubesZB ESPHome Builder and the device web UI or the ESPHome Web Flasher. The standalone ESPHome Flasher app is no longer maintained.</p> <p>See Coordinator Firmware Updates for the current workflow.</p>"},{"location":"zigbee-coordinators/efr32-based/#legacy-settings-and-jumpers","title":"Legacy Settings and Jumpers","text":"<p>Legacy EFR32 settings and jumper references are documented separately.</p> <p>See EFR32 Legacy Reference.</p>"},{"location":"zigbee-coordinators/efr32-based/legacy/","title":"EFR32 Legacy Reference","text":"<p>This page captures legacy settings and jumper references for retired EFR32-based coordinators.</p> <p>Historical reference only</p> <p>These settings apply to older 6.9.x firmware and pre-2021 Home Assistant builds. Current models usually do not need them.</p>"},{"location":"zigbee-coordinators/efr32-based/legacy/#legacy-jumper-reference-efr32-pro-and-series-2","title":"Legacy Jumper Reference (EFR32 Pro and Series 2)","text":"<p>Zigbee serial routed to Ethernet (ESP32):</p> <p> </p> Jumpers toward the ESP32 route Zigbee serial to Ethernet. <p>Zigbee serial routed to the onboard USB serial adapter:</p> <p> </p> Middle jumpers route Zigbee serial to the USB adapter. <p>ESP32 flashing mode:</p> <p> </p> Ground IO0 during boot to enter ESP32 flash mode."},{"location":"zigbee-routers/cc2652-based-routers/","title":"TubesZB CC2652P2 Zigbee Router","text":"<p>This page contains technical details for the TubesZB CC2652P2 Zigbee Router, including factory reset and firmware update procedures.</p>"},{"location":"zigbee-routers/cc2652-based-routers/#device-operations","title":"Device Operations","text":""},{"location":"zigbee-routers/cc2652-based-routers/#factory-reset","title":"Factory Reset","text":"<p>If you need to re-pair the router or start fresh, you can perform a factory reset.</p> <ol> <li>Carefully open the router's enclosure to access the circuit board.</li> <li>Locate the small button labeled BSL (Boot Strap Loader).</li> <li>With the router powered on, give the BSL button a single, quick press.</li> </ol> <p>The device will reset and should immediately enter pairing mode again.</p>"},{"location":"zigbee-routers/cc2652-based-routers/#firmware-updates","title":"Firmware Updates","text":"<p>Updating the firmware on the CC2652P2 module requires a physical connection to a computer and the use of a specific flashing tool.</p> <p>Required Tool: cc2538-bsl.py</p> <p>The flashing process differs slightly depending on whether your router has a USB-C or a Micro-USB port.</p>"},{"location":"zigbee-routers/cc2652-based-routers/#flashing-a-router-with-a-usb-c-port","title":"Flashing a Router with a USB-C Port","text":"<p>Newer routers with a USB-C port have a built-in serial-to-USB converter, which simplifies the process.</p> <ol> <li>Press and hold the BSL button on the router's circuit board.</li> <li>While still holding the button, plug the router into your computer using a USB-C cable.</li> <li>Continue holding the BSL button for about 10 seconds, then release. The device is now in bootloader mode.</li> <li>Use the <code>cc2538-bsl.py</code> tool to flash the new firmware.</li> </ol>"},{"location":"zigbee-routers/cc2652-based-routers/#flashing-a-router-with-a-micro-usb-port","title":"Flashing a Router with a Micro-USB Port","text":"<p>Older routers with a Micro-USB port require an external USB-to-Serial adapter for flashing.</p> <p>Serial Adapter Required</p> <p>You will need a 3.3V USB-to-Serial TTL adapter to flash this device. Adapters using CP210x, CH340, or FTDI chips are common and will work. * Example CP2102 USB to TTL module (Affiliate Link)</p>"},{"location":"zigbee-routers/cc2652-based-routers/#flashing-steps","title":"Flashing Steps","text":"<ol> <li>Connect the Adapter: Use dupont jumper wires to connect your serial adapter to the router's programming pins. The connection order is critical:</li> </ol> Serial Adapter Router Pin 3.3V 3.3V GND GND RX TX TX RX <ol> <li> <p>Enter Bootloader Mode:</p> <ul> <li>Plug the USB-to-Serial adapter into your computer.</li> <li>Press and hold the BSL button on the router.</li> <li>While holding the button, slide the 4 connected dupont wires over the corresponding pins on the router.</li> <li>Release the BSL button. The device is now in bootloader mode.</li> </ul> </li> <li> <p>Flash the Firmware: Use the <code>cc2538-bsl.py</code> tool to flash the new firmware.</p> <p></p> </li> </ol>"},{"location":"zigbee-routers/cc2652-based-routers/#example-flash-command","title":"Example Flash Command","text":"<p>The command will look similar to this. Replace the port and file path with your own.</p> <p>```bash cc2538-bsl.py -p /dev/cu.usbserial-00F9450F -evw /PATH_TO/tubeszb_router_20220111.hex</p>"},{"location":"zigbee-routers/efr32-based-routers/","title":"EFR32 Based Zigbee Router","text":"<p>This page contains technical details for the Tube's EFR32 based Zigbee Routers, including button functions and firmware update procedures.</p>"},{"location":"zigbee-routers/efr32-based-routers/#getting-started","title":"Getting Started","text":"<p>Initial pairing is simple and works the same way as other TubeZB routers. Please follow the main router getting started guide for instructions.</p> <p> View Router Getting Started Guide</p>"},{"location":"zigbee-routers/efr32-based-routers/#device-operations","title":"Device Operations","text":"<p>The single button on the EFR32 router has multiple functions depending on the state of the device and the duration of the press.</p> <p>Settings are Temporary</p> <p>Toggled statuses from a short button press (like network steering) only remain active while the router is powered on. Power cycling the router will reset it to its default behavior.</p>"},{"location":"zigbee-routers/efr32-based-routers/#if-the-router-is-not-joined-to-a-network","title":"If the Router is NOT Joined to a Network:","text":"<ul> <li>Short Press: Toggles \"Network Steering\". This starts or stops the router's attempt to find and join a Zigbee network. This is useful if you want to power on the device without it immediately trying to pair.</li> <li>Long Press (&gt;5s): Reboots the router into bootloader mode. This is used to prepare the device for a firmware update.</li> </ul>"},{"location":"zigbee-routers/efr32-based-routers/#if-the-router-is-joined-to-a-network","title":"If the Router IS Joined to a Network:","text":"<ul> <li>Short Press: Toggles \"Source Route Discovery\". This is an advanced feature that is generally not needed for most networks. It starts/stops the broadcasting of MTORRs (Many-to-One Route Requests).</li> <li>Long Press (&gt;5s): Makes the router leave its current Zigbee network. It will need to be re-paired after this action.</li> </ul>"},{"location":"zigbee-routers/efr32-based-routers/#firmware-updates","title":"Firmware Updates","text":""},{"location":"zigbee-routers/efr32-based-routers/#firmware-source","title":"Firmware Source","text":"<p>The recommended firmware for these routers is developed by Nerivec and is available for download from the silabs-firmware-builder releases page.</p>"},{"location":"zigbee-routers/efr32-based-routers/#flashing-methods","title":"Flashing Methods","text":"<p>There are two primary methods for flashing firmware to the EFR32 routers.</p>"},{"location":"zigbee-routers/efr32-based-routers/#method-1-universal-silicon-labs-flasher-advanced","title":"Method 1: Universal Silicon Labs Flasher (Advanced)","text":"<p>This is a Python-based command-line tool for flashing Silicon Labs devices. It is a powerful tool for users who are comfortable working in a terminal.</p> <ol> <li>Install the Tool: Follow the installation instructions on the Universal Silicon Labs Flasher GitHub page.</li> <li>Enter Bootloader Mode: Before flashing, you must put the router into bootloader mode. While the device is powered on, press and hold the button for more than 5 seconds until the LED changes.</li> <li>Run the Flasher: Use the tool to flash the downloaded firmware file. The command will look something like this:     <pre><code>universal-silabs-flasher --device /dev/tty.usbmodem1101 flash --firmware your-firmware-file.gbl\n</code></pre></li> </ol>"},{"location":"zigbee-routers/efr32-based-routers/#method-2-tubes-home-assistant-addon-recommended-for-ha-users","title":"Method 2: Tube's Home Assistant Addon (Recommended for HA Users)","text":"<p>For users running Home Assistant OS or Supervised, the easiest method is to use the TubesZB Addon, which provides a user-friendly interface for flashing.</p> <ol> <li>Install the TubesZB Addon Repository in Home Assistant.</li> <li>Install the appropriate flashing utility from the addon store.</li> <li>Follow the instructions within the addon's documentation to flash your router.</li> </ol>"},{"location":"zwave-kits/","title":"Z-Wave PoE Kit","text":"<p>The TubeZB Z-Wave PoE Kit provides a reliable, network-connected Z-Wave radio for Home Assistant. It is powered by Power over Ethernet (PoE) and uses an ESP32 microcontroller to bridge the Z-Wave serial module to your network.</p>"},{"location":"zwave-kits/#getting-started","title":"Getting Started","text":"<p>For initial setup and integration with Home Assistant, please follow the main Z-Wave getting started guide.</p> <p> View Z-Wave Getting Started Guide</p>"},{"location":"zwave-kits/#hardware-components","title":"Hardware Components","text":"<p>The Z-Wave PoE Kit consists of two main printed circuit boards (PCBs):</p> <ol> <li> <p>Olimex ESP32-PoE Board: This is the brains of the device. It's an ESP32 development board that includes a built-in PoE module, allowing it to be powered directly from a compatible network switch or injector. It runs a custom ESPHome firmware to manage the network connection and communication with the Z-Wave radio.</p> </li> <li> <p>Raspberry Pi GPIO to Olimex UEXT Converter: This is a custom adapter board designed specifically to connect Z-Wave modules with a Raspberry Pi GPIO-style header to the Olimex board's UEXT connector. You can find more details on the converter's product page.</p> </li> </ol>"},{"location":"zwave-kits/#3d-printed-enclosure","title":"3D Printed Enclosure","text":"<p>For those who wish to print their own case, the STL files are available on GitHub.</p> <p> Download Case STL Files</p>"},{"location":"zwave-kits/#firmware-updates","title":"Firmware Updates","text":"<p>There are two separate firmwares on this device that can be updated: the ESPHome firmware on the ESP32, and the firmware on the Z-Wave radio module itself.</p>"},{"location":"zwave-kits/#esphome-firmware-esp32","title":"ESPHome Firmware (ESP32)","text":"<p>The ESPHome firmware handles the network connectivity. You can update it using the web-based flashing tool. For advanced users, the base ESPHome YAML configuration is also available.</p> <ul> <li>View the current ESPHome YAML Configuration</li> </ul>"},{"location":"zwave-kits/#flashing-instructions","title":"Flashing Instructions","text":"<ol> <li> <p>Disconnect PoE Power:     !!! danger \"CRITICAL SAFETY WARNING\"         You MUST unplug the ethernet cable providing PoE before connecting the device to your computer via USB. Failure to do so can permanently damage the USB port on the ESP32 board and potentially the USB controller on your computer.</p> </li> <li> <p>Access the USB Port:</p> <ul> <li>Remove the lid from the 3D-printed enclosure.</li> <li>Gently lift the end of the boards near the ethernet port to pivot the assembly upwards. This will expose the micro-USB port on the Olimex ESP32-PoE board.</li> </ul> </li> <li> <p>Connect to Computer:</p> <ul> <li>Connect a micro-USB data cable from the ESP32 board to your computer.</li> </ul> </li> <li> <p>Flash the Firmware:</p> <ul> <li>For standard DHCP firmware: Use the TubesZB Web Flasher. Select \"TubesZB ZWave Kit\" from the dropdown and follow the on-screen instructions to connect and flash.</li> <li>For a static IP: You must first build a custom firmware binary. Go to the TubesZB ESPHome Builder repository and create a new issue using the \"ESPHome Static IP Configuration\" template. Fill out your network details, and a GitHub Action will automatically compile a firmware for you to download and flash.</li> </ul> </li> </ol>"},{"location":"zwave-kits/#z-wave-radio-firmware","title":"Z-Wave Radio Firmware","text":"<p>Updating the firmware on the Z-Wave radio module itself depends on the model you are using.</p>"},{"location":"zwave-kits/#zooz-zac93-module","title":"Zooz ZAC93 Module","text":"<p>The firmware on the Zooz ZAC93 module can be updated directly through the Z-Wave JS UI in Home Assistant.</p> <ol> <li>Obtain the correct firmware file from the Zooz OTA Firmware Files page.</li> <li>In the Z-Wave JS UI, navigate to the Control Panel.</li> <li>Select your Zooz controller node.</li> <li>Expand the Advanced actions.</li> <li>Under Firmware update, upload the file and begin the process.</li> </ol>"},{"location":"zwave-kits/#z-waveme-razberry-7-pro-module","title":"Z-Wave.me RaZberry 7 Pro Module","text":"<p>Updating the RaZberry module is a more advanced process that currently requires a Raspberry Pi.</p> <ol> <li>Safely shut down your Z-Wave PoE Kit and remove the RaZberry module.</li> <li>Install the RaZberry module onto the GPIO header of a Raspberry Pi.</li> <li>Download and install the Z-Way software from Z-Wave.me on the Raspberry Pi.</li> <li>Access the Z-Way Expert UI in your browser.</li> <li>Use the built-in firmware update tool within the Expert UI to flash the new firmware onto the module.</li> <li>Once complete, remove the module from the Raspberry Pi and reinstall it in your Z-Wave PoE Kit.</li> </ol>"}]}